<!-- <div class="section-header" [ngClass]="'align-' + textAlign">
  <ng-container *ngIf="lineAboveTitle; else belowTitle">
    <ng-container *ngIf="lineLeftOfSubtitle; else lineAboveTitleDefault">
      <div class="subtitle-row">
        <div class="line-wrapper" [style.marginBottom.px]="lineMarginBottom">
          <img [ngClass]="{
              'animated-line': animateLine,
              'horizontal-mask': maskDirection === 'horizontal',
              'horizontal-mask-rtl': maskDirection === 'rtl',
              'circular-mask': maskDirection === 'circular'
            }" [src]="lineImage" alt="line image" *ngIf="lineImage" [style.width.px]="lineWidth" />
        </div>
        <h3 class="section-subtitle">{{ subtitle }}</h3>
      </div>
      <h1>{{ title }}</h1>
    </ng-container>

    <ng-template #lineAboveTitleDefault>
      <h3 class="section-subtitle">{{ subtitle }}</h3>
      <div class="line-wrapper" [style.marginBottom.px]="lineMarginBottom">
        <img [ngClass]="{
            'animated-line': animateLine,
            'horizontal-mask': maskDirection === 'horizontal',
            'horizontal-mask-rtl': maskDirection === 'rtl',
            'circular-mask': maskDirection === 'circular'
          }" [src]="lineImage" alt="line image" *ngIf="lineImage" [style.width.px]="lineWidth" />
      </div>
      <h1>{{ title }}</h1>
    </ng-template>
  </ng-container>

  <ng-template #belowTitle>
    <h3 class="section-subtitle">{{ subtitle }}</h3>
    <h1>{{ title }}</h1>

    <div class="line-wrapper" *ngIf="!lineUnderInfoText" [style.display]="'flex'" [style.width]="'100%'"
      [style.marginBottom.px]="lineMarginBottom" [style.justifyContent]="lineAlign">
      <img [ngClass]="{
          'animated-line': animateLine,
          'horizontal-mask': maskDirection === 'horizontal',
          'horizontal-mask-rtl': maskDirection === 'rtl',
          'circular-mask': maskDirection === 'circular'
        }" [src]="lineImage" alt="line image" *ngIf="lineImage" [style.width.px]="lineWidth" />
    </div>
  </ng-template>

  <p class="section-info-text">{{ infoText }}</p>

  <div class="line-wrapper" *ngIf="lineUnderInfoText" [style.display]="'flex'" [style.width]="'100%'"
    [style.marginTop.px]="lineMarginBottom" [style.justifyContent]="lineAlign">
    <img [ngClass]="{
        'animated-line': animateLine,
        'horizontal-mask': maskDirection === 'horizontal',
        'horizontal-mask-rtl': maskDirection === 'rtl',
        'circular-mask': maskDirection === 'circular'
      }" [src]="lineImage" alt="line image" *ngIf="lineImage" [style.width.px]="lineWidth" />
  </div>
</div> -->


<div class="section-header" [ngClass]="'align-' + textAlign">
  <!-- ============================= -->
  <!-- FALL A: Linie über dem Title -->
  <!-- ============================= -->
  <ng-container *ngIf="lineAboveTitle; else notLineAbove">
    <!-- A1) Linie links neben Subtitle NUR WENN Subtitle über dem Title gewünscht -->
    <ng-container *ngIf="lineLeftOfSubtitle && subtitlePosition === 'above'; else lineAboveGeneric">
      <div class="subtitle-row">
        <div class="line-wrapper" [style.marginBottom.px]="lineMarginBottom">
          <img *ngIf="lineImage" [src]="lineImage" alt="line image" [style.width.px]="lineWidth" [ngClass]="{
              'animated-line': animateLine,
              'horizontal-mask': maskDirection === 'horizontal',
              'horizontal-mask-rtl': maskDirection === 'rtl',
              'circular-mask': maskDirection === 'circular'
            }" />
        </div>

        <h3 class="section-subtitle" [style.marginBottom.px]="subtitleOffset">
          {{ subtitle }}
        </h3>
      </div>

      <h1>{{ title }}</h1>

      <!-- Wenn Subtitle unter dem Title gewünscht, trotz lineLeftOfSubtitle -->
      <ng-container *ngIf="subtitlePosition === 'above'">
        <h3 class="section-subtitle" [style.marginTop.px]="subtitleOffset">
          {{ subtitle }}
        </h3>
      </ng-container>
    </ng-container>

    <!-- A2) Standard: Linie über dem Title (nicht neben Subtitle) -->
    <ng-template #lineAboveGeneric>
      <!-- Subtitle über/unter Title steuerbar -->
      <ng-container *ngIf="subtitlePosition === 'above'">
        <h3 class="section-subtitle" [style.marginBottom.px]="subtitleOffset">
          {{ subtitle }}
        </h3>
      </ng-container>

      <!-- Linie über dem Title -->
      <div class="line-wrapper" [style.marginBottom.px]="lineMarginBottom">
        <img *ngIf="lineImage" [src]="lineImage" alt="line image" [style.width.px]="lineWidth" [ngClass]="{
            'animated-line': animateLine,
            'horizontal-mask': maskDirection === 'horizontal',
            'horizontal-mask-rtl': maskDirection === 'rtl',
            'circular-mask': maskDirection === 'circular'
          }" />
      </div>

      <h1>{{ title }}</h1>

      <ng-container *ngIf="subtitlePosition === 'below'">
        <h3 class="section-subtitle" [style.marginTop.px]="subtitleOffset">
          {{ subtitle }}
        </h3>
      </ng-container>
    </ng-template>
  </ng-container>

  <!-- ============================================ -->
  <!-- FALL B: Linie nicht über dem Title (default) -->
  <!-- ============================================ -->
  <ng-template #notLineAbove>
    <!-- Subtitle über/unter Title steuerbar -->
    <ng-container *ngIf="subtitlePosition === 'above'">
      <h3 class="section-subtitle" [style.marginBottom.px]="subtitleOffset">
        {{ subtitle }}
      </h3>
    </ng-container>

    <h1>{{ title }}</h1>

    <ng-container *ngIf="subtitlePosition === 'below'">
      <h3 class="section-subtitle" [style.marginTop.px]="subtitleOffset">
        {{ subtitle }}
      </h3>
    </ng-container>

    <!-- Linie unter dem Title (nur, wenn NICHT unter Info-Text gewünscht) -->
    <div class="line-wrapper" *ngIf="!lineUnderInfoText" [style.display]="'flex'" [style.width]="'100%'"
      [style.marginBottom.px]="lineMarginBottom" [style.justifyContent]="lineAlign">
      <img *ngIf="lineImage" [src]="lineImage" alt="line image" [style.width.px]="lineWidth" [ngClass]="{
          'animated-line': animateLine,
          'horizontal-mask': maskDirection === 'horizontal',
          'horizontal-mask-rtl': maskDirection === 'rtl',
          'circular-mask': maskDirection === 'circular'
        }" />
    </div>
  </ng-template>

  <!-- Info-Text (Abstand vom Title gesteuert über infoOffset) -->
  <p class="section-info-text" [style.marginTop.px]="infoOffset">
    {{ infoText }}
  </p>

  <!-- Linie unter dem Info-Text -->
  <div class="line-wrapper" *ngIf="lineUnderInfoText" [style.display]="'flex'" [style.width]="'100%'"
    [style.marginTop.px]="lineMarginBottom" [style.justifyContent]="lineAlign">
    <img *ngIf="lineImage" [src]="lineImage" alt="line image" [style.width.px]="lineWidth" [ngClass]="{
        'animated-line': animateLine,
        'horizontal-mask': maskDirection === 'horizontal',
        'horizontal-mask-rtl': maskDirection === 'rtl',
        'circular-mask': maskDirection === 'circular'
      }" />
  </div>
</div>